@startuml Планер - Диаграмма контекста (C4)
!include <C4/C4_Context>

title Диаграмма контекста: Система "Планер"

Person(Пользователь, "Пользователь", "Человек, управляющий своими задачами")

System_Boundary(Планер, "Планер") {
    System(УправлениеЗадачами, "Управление задачами", "Core Domain: Добавление, редактирование, удаление задач")
    System(ФильтрацияИСортировка, "Фильтрация и сортировка", "Supporting Subdomain: Фильтрация по статусу, сортировка по дате")
}

System_Ext(ЛокальноеХранилище, "Локальное хранилище", "Generic Subdomain: SQLite/Room")

' Связи между компонентами
Rel(Пользователь, УправлениеЗадачами, "Добавляет/редактирует задачи", "UI")
Rel(Пользователь, ФильтрацияИСортировка, "Применяет фильтры и сортировку", "UI")
Rel(УправлениеЗадачи, ЛокальноеХранилище, "Сохраняет/загружает задачи", "Room DAO")
Rel(ФильтрацияИСортировка, УправлениеЗадачи, "Запрашивает список задач", "StateFlow<List<Task>>")

' Легенда
legend right
  **Обозначения**:
  <b>Core Domain</b> - Смысловое ядро системы.
  <b>Supporting Subdomain</b> - Вспомогательная подобласть.
  <b>Generic Subdomain</b> - Общий модуль (инфраструктура).
endlegend
@enduml